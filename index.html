<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>nmph_mtest_TI — Surprise Memory Test</title>
  <link rel="stylesheet" href="styles.css" />
</head>

<body>
  <main class="container">
    <div class="toolbar">
      <div>
        <h1>nmph_mtest_TI — Surprise Memory Test</h1>
        <div class="small">Keyboard: <strong>F</strong> = New, <strong>J</strong> = Old, then <strong>1–5</strong> for confidence</div>
      </div>
      <div class="status" id="progressIndicator">Ready</div>
    </div>

    <!-- ID / Consent / Initial Question -->
    <section id="idScreen" class="screen active card">
      <label for="subid">Participant ID</label>
      <input id="subid" type="text" placeholder="e.g., p101" />

      <p class="muted">Q: <em>Have you anticipated that there will be a memory test today about all of the images that you saw yesterday?</em></p>

      <div class="choice-row">
        <button id="antYes">Yes</button>
        <button id="antNo">No</button>
      </div>

      <p class="muted small">(Expected answer: <strong>No</strong>)</p>

      <button id="startBtn">Start Test</button>

      <p class="muted instructions">
        You will see an image for 2 seconds. After it disappears, press <strong>F</strong> if the image is NEW, or <strong>J</strong> if it is OLD.  
        Then you’ll rate your confidence (1–5).  
        The response screens remain until you answer.
      </p>
    </section>

    <!-- Image display -->
    <section id="imageScreen" class="screen card">
      <div class="img-stage" id="imgStage"><div class="muted">Image will appear</div></div>
      <div class="small muted">Image display: 2.0 seconds</div>
    </section>

    <!-- Choice screen -->
    <section id="choiceScreen" class="screen card">
      <div class="muted">Was the image NEW or OLD?</div>
      <div class="choice-row">
        <div class="choice"><strong>F</strong> — Definitely NEW</div>
        <div class="choice"><strong>J</strong> — Definitely OLD</div>
      </div>
    </section>

    <!-- Confidence -->
    <section id="confidenceScreen" class="screen card">
      <div class="muted">How confident are you? (1 = not confident, 5 = very confident)</div>
      <div class="choice-row">
        <div class="choice">Press <strong>1</strong></div>
        <div class="choice">Press <strong>2</strong></div>
        <div class="choice">Press <strong>3</strong></div>
        <div class="choice">Press <strong>4</strong></div>
        <div class="choice">Press <strong>5</strong></div>
      </div>
    </section>

    <!-- End screen -->
    <section id="endScreen" class="screen card">
      <h2>Test Complete</h2>
      <p class="muted">Your responses have been recorded.</p>

      <div class="choice-row">
        <button id="downloadCSV">Download CSV</button>
        <button id="downloadJSON">Download JSON</button>
        <button id="restartBtn">Restart</button>
      </div>

      <pre class="debug" id="debugLog"></pre>
    </section>
  </main>

  <script src="script.js"></script>
</body>
</html>
